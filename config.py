import os
from typing import Dict, Any, List

class Config:
    def __init__(self):
        # –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
        self.bot_token = os.getenv("BOT_TOKEN", "YOUR_BOT_TOKEN_HERE")
        self.content_file = "data/ux_ui_content.json"
        self.demo_content_file = "data/demo_ux_ui_content.json"  # –§–∞–π–ª —Å –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è –¥–µ–º–æ-—Ç–µ—Å—Ç–∞
        self.log_file = "bot.log"
        
        # ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –±–æ—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        self.admin_id = 764044921  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π ID
        
        # AI API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (aimlapi.com)
        self.ai_api_key = os.getenv("OPENAI_API_KEY", "")  # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç—É –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
        self.ai_api_url = "https://api.aimlapi.com/v1/chat/completions"
        self.ai_model = "claude-3-haiku-20240307"  # –ú–æ–¥–µ–ª—å –æ—Ç Anthropic, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞—Ç—å
        
        # –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏
        self.authorized_users: List[int] = [764044921, 325878232, 379294891]  # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏
        
        # –¢–µ–º—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
        self.available_topics = {
            "ux_ui_basics": "–û—Å–Ω–æ–≤—ã UX –∏ UI. –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–∏–π"
        }
        
        # –°–æ–æ–±—â–µ–Ω–∏—è
        self.messages = {
            "welcome": """
<b>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ UX/UI —Ç—Ä–µ–Ω–∞–∂—ë—Ä ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –ø—Ä–æ–∫–∞—á–∞—Ç—å –Ω–∞–≤—ã–∫–∏ –≤ –¥–∏–∑–∞–π–Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</b>

<b>–ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å:</b>

‚Ä¢ –ü—Ä–æ–π—Ç–∏ –¥–µ–º–æ-—Ç–µ—Å—Ç: –≤—Å–µ–≥–æ 10 –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –æ—Å–Ω–æ–≤–∞–º UX/UI. –ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ç—ã –ø–æ–ª—É—á–∏—à—å —á–µ–∫-–ª–∏—Å—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å, –≥–¥–µ —Ç—ã —Å–∏–ª—ë–Ω, –∞ –Ω–∞–¥ —á–µ–º —Å—Ç–æ–∏—Ç –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å. –û—Ç–ª–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± –±—ã—Å—Ç—Ä–æ –æ—Ü–µ–Ω–∏—Ç—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å

‚Ä¢ –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏: —ç—Ç–æ 8 –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ–º –ø–æ UX –∏ UI, –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —á–µ–∫-–ª–∏—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ò–ò —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥ —Ç–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã. –¢—Ä–µ–Ω–∞–∂—ë—Ä –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ç–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, —á—Ç–æ–±—ã –æ–±—É—á–µ–Ω–∏–µ –±—ã–ª–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–º –∏ —Ç–æ—á–Ω—ã–º

<b>–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:</b>
1. –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à Telegram –∫–∞–Ω–∞–ª - @InterfAIceSchool
2. –ù–∞–∂–º–∏—Ç–µ ¬´üéØ –ù–∞—á–∞—Ç—å –¥–µ–º–æ-—Ç–µ—Å—Ç¬ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞–Ω–∏–π
3. –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–∏—Ç–µ —á–µ–∫-–ª–∏—Å—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
4. –ö–æ–º–∞–Ω–¥–∞ /start ‚Äî –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
5. –ö–æ–º–∞–Ω–¥–∞ /cancel ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ç–µ—Å—Ç

<b>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:</b>
""",
            "test_complete": """
–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!
–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {score}/{total}
–¢–µ–≥–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∏ –æ—à–∏–±–∫–∏: {failed_tags}
""",
            "unauthorized": """
<b>‚ú® –°–∫–æ—Ä–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏! ‚ú®</b>

<b>–ò–∑–≤–∏–Ω–∏—Ç–µ, –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</b> –ú—ã —Å–æ–∑–¥–∞–µ–º –¥–ª—è –≤–∞—Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—É—é –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –æ–±—É—á–µ–Ω–∏—è!

<b>–° –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π –≤—ã —Å–º–æ–∂–µ—Ç–µ:</b>
‚Ä¢ –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º
‚Ä¢ –ü–æ–ª—É—á–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –∑–Ω–∞–Ω–∏–π –∏ –ø—Ä–æ–±–µ–ª–æ–≤
‚Ä¢ –ü—Ä–æ—Ö–æ–¥–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ç–µ–º–∞–º UX/UI –¥–∏–∑–∞–π–Ω–∞
‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ

<b>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –≤ –Ω–∞—à–µ–π –≥—Ä—É–ø–ø–µ:</b>
<a href="https://t.me/InterfAIceSchool">https://t.me/InterfAIceSchool</a>

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –∏–Ω—Ç–µ—Ä–µ—Å –∫ –Ω–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É! ‚ù§Ô∏è
""",
            "full_version_welcome": """
<b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é –±–æ—Ç–∞!</b>

<b>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>
‚Ä¢ –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚Ä¢ –í–æ–ø—Ä–æ—Å—ã, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Å –ø–æ–º–æ—â—å—é –ò–ò
‚Ä¢ –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–µ–º–∞–º —Å –æ—à–∏–±–∫–∞–º–∏

<b>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</b>
"""
        }
    
    def is_user_authorized(self, user_id: int) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏"""
        # –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ–º –¥–æ—Å—Ç—É–ø –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        return False
        
    def add_authorized_user(self, user_id: int) -> None:
        """–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö"""
        if user_id not in self.authorized_users:
            self.authorized_users.append(user_id)

config = Config()